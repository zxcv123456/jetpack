package com.example.jetpack.activity.ui.home;

import android.app.Activity;
import android.util.Log;
import android.widget.Toast;

import com.example.jetpack.bean.GalleryBean;
import com.example.jetpack.utils.AbstractResultCallBack;
import com.example.jetpack.utils.OkhttpUtils;
import com.google.gson.Gson;

import org.json.JSONObject;

import java.io.IOException;
import java.util.Map;

import androidx.lifecycle.LiveData;
import androidx.lifecycle.MutableLiveData;
import androidx.lifecycle.ViewModel;
import okhttp3.Call;
import okhttp3.Response;

import static android.content.ContentValues.TAG;

public class HomeViewModel extends ViewModel {

    private MutableLiveData<GalleryBean> galleryBeanMutableLiveData;

    public MutableLiveData<GalleryBean> getGalleryBeanMutableLiveData() {
        if (galleryBeanMutableLiveData == null){
            galleryBeanMutableLiveData = new MutableLiveData<GalleryBean>();
        }
        return galleryBeanMutableLiveData;
    }
    public void getGalleryData(final Activity activity, Map<String, String> map){
        OkhttpUtils.getInstance().getAsynHttp(map, new AbstractResultCallBack() {
            @Override
            public void onSuccess(Call call, final String response) {
                //需要的是response.body才是返回的需要的数据
                //使用谷歌的Gson进行序列化，给livedata设置value
                Log.d("internetSuccess", "onSuccess: ");
                final Gson jsonObject = new Gson();
                activity.runOnUiThread(new Runnable() {
                    @Override
                    public void run() {
                        //需要在主线程调用setvalue、方法
                        galleryBeanMutableLiveData.setValue(jsonObject.fromJson(response,GalleryBean.class));
                    }
                });

            }

            @Override
            public void onFail(Call call, final IOException e) {
                activity.runOnUiThread(new Runnable() {
                    @Override
                    public void run() {
                        Toast.makeText(activity,e.toString(),Toast.LENGTH_SHORT).show();
                    }
                });
                super.onFail(call, e);
            }
        });
    }
    public void setData(Activity activity){
        try {
            final String data = "{\"total\":5462,\"totalHits\":500,\"hits\":[{\"id\":1730199,\"pageURL\":\"https://pixabay.com/photos/girl-woman-character-body-face-1730199/\",\"type\":\"photo\",\"tags\":\"girl, woman, character\",\"previewURL\":\"https://cdn.pixabay.com/photo/2016/10/10/23/49/girl-1730199_150.jpg\",\"previewWidth\":108,\"previewHeight\":150,\"webformatURL\":\"https://pixabay.com/get/57e7d6434b5ba514f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":460,\"webformatHeight\":640,\"largeImageURL\":\"https://pixabay.com/get/57e7d6434b5ba514f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":2192,\"imageHeight\":3048,\"imageSize\":2604756,\"views\":400497,\"downloads\":51024,\"favorites\":979,\"likes\":943,\"comments\":71,\"user_id\":2233926,\"user\":\"JerzyGorecki\",\"userImageURL\":\"https://cdn.pixabay.com/user/2016/03/19/18-00-28-42_250x250.jpg\"},{\"id\":3080644,\"pageURL\":\"https://pixabay.com/photos/fashion-woman-portrait-model-girl-3080644/\",\"type\":\"photo\",\"tags\":\"fashion, woman, portrait\",\"previewURL\":\"https://cdn.pixabay.com/photo/2018/01/13/19/39/fashion-3080644_150.jpg\",\"previewWidth\":150,\"previewHeight\":93,\"webformatURL\":\"https://pixabay.com/get/55e0dd434c56a814f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":399,\"largeImageURL\":\"https://pixabay.com/get/55e0dd434c56a814f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":5340,\"imageHeight\":3336,\"imageSize\":2895347,\"views\":702783,\"downloads\":432550,\"favorites\":1056,\"likes\":1301,\"comments\":141,\"user_id\":3935302,\"user\":\"himanshugunarathna\",\"userImageURL\":\"https://cdn.pixabay.com/user/2017/12/01/06-39-48-119_250x250.jpg\"},{\"id\":1219339,\"pageURL\":\"https://pixabay.com/photos/girl-woman-dancer-artist-circus-1219339/\",\"type\":\"photo\",\"tags\":\"girl, woman, dancer\",\"previewURL\":\"https://cdn.pixabay.com/photo/2016/02/24/08/31/girl-1219339_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/57e2d44a4951a514f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":426,\"largeImageURL\":\"https://pixabay.com/get/57e2d44a4951a514f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":4896,\"imageHeight\":3264,\"imageSize\":2675950,\"views\":186898,\"downloads\":69326,\"favorites\":724,\"likes\":689,\"comments\":61,\"user_id\":1982503,\"user\":\"ivanovgood\",\"userImageURL\":\"https://cdn.pixabay.com/user/2017/11/29/19-47-26-843_250x250.jpg\"},{\"id\":2303361,\"pageURL\":\"https://pixabay.com/photos/model-face-beautiful-2303361/\",\"type\":\"photo\",\"tags\":\"model, face, beautiful\",\"previewURL\":\"https://cdn.pixabay.com/photo/2017/05/11/08/48/model-2303361_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/54e3d5404954ad14f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":426,\"largeImageURL\":\"https://pixabay.com/get/54e3d5404954ad14f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":4995,\"imageHeight\":3330,\"imageSize\":1857955,\"views\":514109,\"downloads\":317926,\"favorites\":1359,\"likes\":1322,\"comments\":167,\"user_id\":3656355,\"user\":\"Engin_Akyurt\",\"userImageURL\":\"https://cdn.pixabay.com/user/2018/09/20/08-02-23-312_250x250.jpg\"},{\"id\":1258739,\"pageURL\":\"https://pixabay.com/photos/girl-sexy-nude-artistic-woman-1258739/\",\"type\":\"photo\",\"tags\":\"girl, sexy, nude\",\"previewURL\":\"https://cdn.pixabay.com/photo/2016/03/15/17/17/girl-1258739_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/57e2d04b4d51a514f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":426,\"largeImageURL\":\"https://pixabay.com/get/57e2d04b4d51a514f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":5472,\"imageHeight\":3648,\"imageSize\":7058600,\"views\":1045942,\"downloads\":61804,\"favorites\":738,\"likes\":756,\"comments\":37,\"user_id\":1866946,\"user\":\"1866946\",\"userImageURL\":\"\"},{\"id\":1940245,\"pageURL\":\"https://pixabay.com/photos/dance-red-dancers-ballet-girl-1940245/\",\"type\":\"photo\",\"tags\":\"dance, red, dancers\",\"previewURL\":\"https://cdn.pixabay.com/photo/2016/12/30/10/03/dance-1940245_150.jpg\",\"previewWidth\":150,\"previewHeight\":102,\"webformatURL\":\"https://pixabay.com/get/57e9d1434856a914f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":438,\"largeImageURL\":\"https://pixabay.com/get/57e9d1434856a914f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":2400,\"imageHeight\":1645,\"imageSize\":777209,\"views\":284800,\"downloads\":123122,\"favorites\":942,\"likes\":866,\"comments\":77,\"user_id\":1982503,\"user\":\"ivanovgood\",\"userImageURL\":\"https://cdn.pixabay.com/user/2017/11/29/19-47-26-843_250x250.jpg\"},{\"id\":254708,\"pageURL\":\"https://pixabay.com/photos/girl-woman-sexy-lingerie-posing-254708/\",\"type\":\"photo\",\"tags\":\"girl, woman, sexy\",\"previewURL\":\"https://cdn.pixabay.com/photo/2014/01/30/01/36/girl-254708_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/54e5d1444a5ab10ff3d8992cc62f377e113bdce14e507440772b72d19249c0_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":426,\"largeImageURL\":\"https://pixabay.com/get/54e5d1444a5ab108f5d084609629307e153bdae7574c704c7c2d7fdd9248c15d_1280.jpg\",\"imageWidth\":2172,\"imageHeight\":1448,\"imageSize\":420265,\"views\":689915,\"downloads\":52415,\"favorites\":586,\"likes\":729,\"comments\":89,\"user_id\":2323,\"user\":\"Greyerbaby\",\"userImageURL\":\"https://cdn.pixabay.com/user/2014/11/14/05-39-07-629_250x250.jpg\"},{\"id\":2333327,\"pageURL\":\"https://pixabay.com/photos/woman-bondage-rope-naked-model-2333327/\",\"type\":\"photo\",\"tags\":\"woman, bondage, rope\",\"previewURL\":\"https://cdn.pixabay.com/photo/2017/05/22/07/20/woman-2333327_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/54e3d6404950ab14f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":426,\"largeImageURL\":\"https://pixabay.com/get/54e3d6404950ab14f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":3888,\"imageHeight\":2592,\"imageSize\":1594026,\"views\":218369,\"downloads\":118521,\"favorites\":853,\"likes\":674,\"comments\":48,\"user_id\":3656355,\"user\":\"Engin_Akyurt\",\"userImageURL\":\"https://cdn.pixabay.com/user/2018/09/20/08-02-23-312_250x250.jpg\"},{\"id\":1585593,\"pageURL\":\"https://pixabay.com/photos/woman-sexy-portrait-hand-on-face-1585593/\",\"type\":\"photo\",\"tags\":\"woman, sexy, portrait\",\"previewURL\":\"https://cdn.pixabay.com/photo/2016/08/11/12/43/woman-1585593_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/57e5dd464f5baf14f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":425,\"largeImageURL\":\"https://pixabay.com/get/57e5dd464f5baf14f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":6016,\"imageHeight\":4000,\"imageSize\":10482484,\"views\":134808,\"downloads\":57863,\"favorites\":720,\"likes\":502,\"comments\":39,\"user_id\":2870271,\"user\":\"chriscarroll071158\",\"userImageURL\":\"\"},{\"id\":1736419,\"pageURL\":\"https://pixabay.com/photos/girl-wet-sexy-waterdrops-rain-1736419/\",\"type\":\"photo\",\"tags\":\"girl, wet, sexy\",\"previewURL\":\"https://cdn.pixabay.com/photo/2016/10/13/00/03/girl-1736419_150.jpg\",\"previewWidth\":150,\"previewHeight\":89,\"webformatURL\":\"https://pixabay.com/get/57e7d6454e53a514f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":382,\"largeImageURL\":\"https://pixabay.com/get/57e7d6454e53a514f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":4393,\"imageHeight\":2624,\"imageSize\":4129235,\"views\":205331,\"downloads\":53371,\"favorites\":690,\"likes\":680,\"comments\":39,\"user_id\":1829710,\"user\":\"xusenru\",\"userImageURL\":\"https://cdn.pixabay.com/user/2016/04/19/01-53-33-417_250x250.jpg\"},{\"id\":1063100,\"pageURL\":\"https://pixabay.com/photos/fashion-woman-adult-beauty-model-1063100/\",\"type\":\"photo\",\"tags\":\"fashion, woman, adult\",\"previewURL\":\"https://cdn.pixabay.com/photo/2015/11/26/00/14/fashion-1063100_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/57e0d3404b52ac14f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":425,\"largeImageURL\":\"https://pixabay.com/get/57e0d3404b52ac14f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":4256,\"imageHeight\":2832,\"imageSize\":3343623,\"views\":266805,\"downloads\":110916,\"favorites\":936,\"likes\":860,\"comments\":59,\"user_id\":909086,\"user\":\"Bessi\",\"userImageURL\":\"https://cdn.pixabay.com/user/2019/04/11/22-45-05-994_250x250.jpg\"},{\"id\":1775035,\"pageURL\":\"https://pixabay.com/photos/girl-sea-erotic-glasses-blonde-1775035/\",\"type\":\"photo\",\"tags\":\"girl, sea, erotic\",\"previewURL\":\"https://cdn.pixabay.com/photo/2016/10/27/13/22/girl-1775035_150.jpg\",\"previewWidth\":150,\"previewHeight\":93,\"webformatURL\":\"https://pixabay.com/get/57e7d2464a51a914f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":397,\"largeImageURL\":\"https://pixabay.com/get/57e7d2464a51a914f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":4620,\"imageHeight\":2868,\"imageSize\":3014298,\"views\":245702,\"downloads\":45378,\"favorites\":676,\"likes\":608,\"comments\":40,\"user_id\":1982503,\"user\":\"ivanovgood\",\"userImageURL\":\"https://cdn.pixabay.com/user/2017/11/29/19-47-26-843_250x250.jpg\"},{\"id\":2655644,\"pageURL\":\"https://pixabay.com/photos/girl-beauty-body-portrait-woman-2655644/\",\"type\":\"photo\",\"tags\":\"girl, beauty, body\",\"previewURL\":\"https://cdn.pixabay.com/photo/2017/08/18/16/53/girl-2655644_150.jpg\",\"previewWidth\":114,\"previewHeight\":150,\"webformatURL\":\"https://pixabay.com/get/54e6d0464c56a814f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":485,\"webformatHeight\":640,\"largeImageURL\":\"https://pixabay.com/get/54e6d0464c56a814f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":2605,\"imageHeight\":3438,\"imageSize\":2431787,\"views\":145211,\"downloads\":26369,\"favorites\":508,\"likes\":509,\"comments\":27,\"user_id\":2233926,\"user\":\"JerzyGorecki\",\"userImageURL\":\"https://cdn.pixabay.com/user/2016/03/19/18-00-28-42_250x250.jpg\"},{\"id\":1281830,\"pageURL\":\"https://pixabay.com/photos/woman-girl-model-face-lips-makeup-1281830/\",\"type\":\"photo\",\"tags\":\"woman, girl, model\",\"previewURL\":\"https://cdn.pixabay.com/photo/2016/03/26/23/17/woman-1281830_150.jpg\",\"previewWidth\":150,\"previewHeight\":96,\"webformatURL\":\"https://pixabay.com/get/57e2dd424251ac14f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":412,\"largeImageURL\":\"https://pixabay.com/get/57e2dd424251ac14f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":5472,\"imageHeight\":3524,\"imageSize\":5941886,\"views\":119164,\"downloads\":69593,\"favorites\":590,\"likes\":461,\"comments\":44,\"user_id\":2286921,\"user\":\"Pexels\",\"userImageURL\":\"https://cdn.pixabay.com/user/2016/03/26/22-06-36-459_250x250.jpg\"},{\"id\":237871,\"pageURL\":\"https://pixabay.com/photos/girl-eyes-makeup-sexy-glamor-237871/\",\"type\":\"photo\",\"tags\":\"girl, eyes, makeup\",\"previewURL\":\"https://cdn.pixabay.com/photo/2014/01/03/01/13/girl-237871_150.jpg\",\"previewWidth\":99,\"previewHeight\":150,\"webformatURL\":\"https://pixabay.com/get/54e3d24b4d53b10ff3d8992cc62f377e113bdce14e507440772b72d19249c0_640.jpg\",\"webformatWidth\":424,\"webformatHeight\":640,\"largeImageURL\":\"https://pixabay.com/get/54e3d24b4d53b108f5d084609629307e153bdae7574c704c7c2d7fdd9248c15d_1280.jpg\",\"imageWidth\":2791,\"imageHeight\":4214,\"imageSize\":1400691,\"views\":217301,\"downloads\":96183,\"favorites\":853,\"likes\":662,\"comments\":118,\"user_id\":122336,\"user\":\"mjps\",\"userImageURL\":\"\"},{\"id\":1439909,\"pageURL\":\"https://pixabay.com/photos/woman-face-curly-hair-fashion-1439909/\",\"type\":\"photo\",\"tags\":\"woman, face, curly\",\"previewURL\":\"https://cdn.pixabay.com/photo/2016/06/06/17/05/model-1439909_150.jpg\",\"previewWidth\":150,\"previewHeight\":150,\"webformatURL\":\"https://pixabay.com/get/57e4d64a4352a514f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":640,\"largeImageURL\":\"https://pixabay.com/get/57e4d64a4352a514f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":2677,\"imageHeight\":2677,\"imageSize\":1854781,\"views\":158156,\"downloads\":82079,\"favorites\":802,\"likes\":698,\"comments\":82,\"user_id\":2111903,\"user\":\"FamilyPhotoStudio\",\"userImageURL\":\"https://cdn.pixabay.com/user/2016/06/11/16-41-46-104_250x250.jpg\"},{\"id\":3204843,\"pageURL\":\"https://pixabay.com/photos/portrait-adult-woman-people-3204843/\",\"type\":\"photo\",\"tags\":\"portrait, adult, woman\",\"previewURL\":\"https://cdn.pixabay.com/photo/2018/03/06/22/57/portrait-3204843_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/55e2d5474256af14f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":426,\"largeImageURL\":\"https://pixabay.com/get/55e2d5474256af14f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":5571,\"imageHeight\":3714,\"imageSize\":2555600,\"views\":86784,\"downloads\":37327,\"favorites\":643,\"likes\":496,\"comments\":30,\"user_id\":8164253,\"user\":\"MoonRid3r\",\"userImageURL\":\"https://cdn.pixabay.com/user/2018/02/25/17-43-22-191_250x250.jpg\"},{\"id\":2486528,\"pageURL\":\"https://pixabay.com/photos/woman-naked-act-femininity-female-2486528/\",\"type\":\"photo\",\"tags\":\"woman, naked, act\",\"previewURL\":\"https://cdn.pixabay.com/photo/2017/07/09/09/45/woman-2486528_150.jpg\",\"previewWidth\":150,\"previewHeight\":84,\"webformatURL\":\"https://pixabay.com/get/54e4dd454f50a414f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":360,\"largeImageURL\":\"https://pixabay.com/get/54e4dd454f50a414f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":5120,\"imageHeight\":2880,\"imageSize\":2650624,\"views\":236411,\"downloads\":45814,\"favorites\":718,\"likes\":718,\"comments\":38,\"user_id\":51581,\"user\":\"Comfreak\",\"userImageURL\":\"https://cdn.pixabay.com/user/2020/04/09/10-26-16-313_250x250.jpg\"},{\"id\":2032802,\"pageURL\":\"https://pixabay.com/photos/girl-portrait-hair-beauty-smile-2032802/\",\"type\":\"photo\",\"tags\":\"girl, portrait, hair\",\"previewURL\":\"https://cdn.pixabay.com/photo/2017/02/02/13/48/girl-2032802_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/54e0d6414252ae14f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":426,\"largeImageURL\":\"https://pixabay.com/get/54e0d6414252ae14f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":2560,\"imageHeight\":1707,\"imageSize\":812287,\"views\":120441,\"downloads\":82773,\"favorites\":435,\"likes\":360,\"comments\":26,\"user_id\":1982503,\"user\":\"ivanovgood\",\"userImageURL\":\"https://cdn.pixabay.com/user/2017/11/29/19-47-26-843_250x250.jpg\"},{\"id\":1869791,\"pageURL\":\"https://pixabay.com/photos/adult-artistic-sexy-body-beautiful-1869791/\",\"type\":\"photo\",\"tags\":\"adult, artistic, sexy\",\"previewURL\":\"https://cdn.pixabay.com/photo/2016/11/29/13/20/adult-1869791_150.jpg\",\"previewWidth\":150,\"previewHeight\":99,\"webformatURL\":\"https://pixabay.com/get/57e8d34a4d5bad14f1dc84609629307e153bdae7574c704c7c2d7fdd9248c15d_640.jpg\",\"webformatWidth\":640,\"webformatHeight\":426,\"largeImageURL\":\"https://pixabay.com/get/57e8d34a4d5bad14f6da8c7dda793679153fdae151556c48702679d09e48c05cbd_1280.jpg\",\"imageWidth\":4272,\"imageHeight\":2848,\"imageSize\":666977,\"views\":109268,\"downloads\":43322,\"favorites\":504,\"likes\":380,\"comments\":29,\"user_id\":2286921,\"user\":\"Pexels\",\"userImageURL\":\"https://cdn.pixabay.com/user/2016/03/26/22-06-36-459_250x250.jpg\"}]}";
            final Gson jsonObject = new Gson();
            activity.runOnUiThread(new Runnable() {
                @Override
                public void run() {
                    //需要在主线程调用setvalue、方法
                    getGalleryBeanMutableLiveData().setValue(jsonObject.fromJson(data,GalleryBean.class));
                }
            });
        }catch (Exception e){
            e.printStackTrace();
            Log.e("xfp", "setData: ",e );
        }

    }
}